import React, { Component } from 'react';

import classes from './AnimatedText.module.css';
// import { ReactComponent as Disainer }  from '../src/svgs/Disainer.svg';

// there is some issues in some kind of animations in  SVGs using React. A way to circumvent this without using other third-party libraries is using refs
// another thing is: if what you're trying to access is an element's function, you have to bind the context
// https://reactjs.org/docs/refs-and-the-dom.html#creating-refs
// https://stackoverflow.com/questions/46225497/ref-on-svg-path-doesnt-have-gettotallength-method/46225736#46225736

class AnimatedText extends Component {
    constructor(props) {
        super(props);
        this.letterShapes = [];
        this.refCallback = this.refCallback.bind(this);
    }

    componentDidMount() {
        console.log(this.letterShapes);
    }

    refCallback(element) {
        this.letterShapes.push({ letter: element.id, totalLength: element.getTotalLength() });
    }

    render() {
        return (
            <div className={classes.Container}>
                <div className={classes.AnimatedText}>
                    {/* <Disainer /> */}
                    <svg width="810" height="172" viewBox="0 0 810 172" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path id="letter1" ref={this.refCallback} d="M67.3758 26.4C94.9758 26.4 115.642 32.3333 129.376 44.2C143.109 55.9333 149.976 73.0667 149.976 95.6C149.976 110.133 146.576 122.867 139.776 133.8C133.109 144.6 123.442 153 110.776 159C98.1091 165 83.0425 168 65.5758 168L53.1758 167.8C45.1758 167.533 39.3091 167.4 35.5758 167.4C19.9758 167.4 8.37579 167.6 0.775787 168V164C5.04245 163.733 8.10912 163.2 9.97579 162.4C11.9758 161.6 13.3091 160.067 13.9758 157.8C14.6425 155.533 14.9758 151.867 14.9758 146.8V47.6C14.9758 42.5333 14.5758 38.8667 13.7758 36.6C13.1091 34.3333 11.8425 32.8 9.97579 32C8.10912 31.2 5.04245 30.6666 0.775787 30.4V26.4C6.90912 26.8 15.9758 27 27.9758 27H35.1758L43.9758 26.8C55.1758 26.5333 62.9758 26.4 67.3758 26.4ZM70.3758 30C66.2425 30 63.1091 30.4666 60.9758 31.4C58.9758 32.3333 57.5758 34 56.7758 36.4C55.9758 38.8 55.5758 42.4 55.5758 47.2V147.2C55.5758 152 55.9758 155.6 56.7758 158C57.5758 160.4 58.9758 162.067 60.9758 163C63.1091 163.933 66.3091 164.4 70.5758 164.4C83.7758 164.4 93.3091 158.733 99.1758 147.4C105.042 135.933 107.976 118.933 107.976 96.4C107.976 73.8667 104.909 57.2 98.7758 46.4C92.7758 35.4667 83.3091 30 70.3758 30Z" stroke="url(#paint0_linear)" />
                        <path id="letter2" ref={this.refCallback} d="M189.485 11.6C196.418 11.6 201.752 13.0666 205.485 16C209.352 18.9333 211.285 23.2 211.285 28.8C211.285 34.4 209.352 38.6666 205.485 41.6C201.752 44.5333 196.418 46 189.485 46C182.418 46 177.018 44.5333 173.285 41.6C169.552 38.6666 167.685 34.4 167.685 28.8C167.685 23.2 169.552 18.9333 173.285 16C177.018 13.0666 182.418 11.6 189.485 11.6ZM208.685 149.4C208.685 154.867 209.485 158.667 211.085 160.8C212.818 162.8 215.752 163.8 219.885 163.8V168C205.485 167.467 196.018 167.2 191.485 167.2C186.952 167.2 176.952 167.467 161.485 168V163.8C165.618 163.8 168.485 162.8 170.085 160.8C171.818 158.667 172.685 154.867 172.685 149.4V86C172.685 79.8667 171.818 75.4 170.085 72.6C168.485 69.8 165.618 68.4 161.485 68.4V64.2C165.752 64.6 169.885 64.8 173.885 64.8C187.752 64.8 199.352 63.8667 208.685 62V149.4Z" stroke="url(#paint1_linear)" />
                        <path id="letter3" ref={this.refCallback} d="M269.501 61.4C274.701 61.4 279.567 62 284.101 63.2C288.767 64.2667 292.301 65.4666 294.701 66.8C296.167 67.6 297.367 68 298.301 68C301.101 68 302.767 65.8667 303.301 61.6H307.301C306.767 68.5333 306.501 80.5333 306.501 97.6H302.501C301.434 88.8 298.901 81.4 294.901 75.4C291.034 69.2667 285.367 66.2 277.901 66.2C274.567 66.2 271.767 67.2 269.501 69.2C267.234 71.2 266.101 73.9333 266.101 77.4C266.101 81.8 267.567 85.7333 270.501 89.2C273.434 92.5333 278.034 96.6666 284.301 101.6C284.567 101.733 286.501 103.267 290.101 106.2C297.567 112.333 303.034 117.8 306.501 122.6C309.967 127.267 311.701 133.067 311.701 140C311.701 145.867 309.901 151.2 306.301 156C302.701 160.667 297.767 164.333 291.501 167C285.367 169.533 278.634 170.8 271.301 170.8C262.901 170.8 256.034 169.133 250.701 165.8C248.434 164.6 246.567 163.733 245.101 163.2C243.634 162.667 242.167 162.4 240.701 162.4C238.167 162.4 236.301 164.733 235.101 169.4H231.101C231.634 161.8 231.901 148.467 231.901 129.4H235.901C237.101 140.333 240.034 149.133 244.701 155.8C249.367 162.467 255.234 165.8 262.301 165.8C265.634 165.8 268.367 164.867 270.501 163C272.767 161.133 273.901 158.4 273.901 154.8C273.901 151.067 273.101 147.733 271.501 144.8C270.034 141.867 268.167 139.267 265.901 137C263.767 134.6 260.234 131.2 255.301 126.8C249.701 121.6 245.434 117.467 242.501 114.4C239.567 111.333 237.034 107.8 234.901 103.8C232.901 99.6667 231.901 95.1333 231.901 90.2C231.901 84.4667 233.634 79.4 237.101 75C240.567 70.6 245.167 67.2667 250.901 65C256.634 62.6 262.834 61.4 269.501 61.4Z" stroke="url(#paint2_linear)" />
                        <path id="letter4" ref={this.refCallback} d="M347.837 169.4C339.303 169.4 332.837 167.133 328.437 162.6C324.17 157.933 322.037 152.133 322.037 145.2C322.037 139.2 323.57 134.267 326.637 130.4C329.837 126.4 333.57 123.333 337.837 121.2C342.103 119.067 347.637 116.867 354.437 114.6C361.637 112.2 366.903 110 370.237 108C373.57 106 375.237 103.2 375.237 99.6V81.8C375.237 77.5333 374.17 73.7333 372.037 70.4C369.903 67.0667 366.237 65.4 361.037 65.4C356.903 65.4 353.17 66.5333 349.837 68.8C354.37 70.4 357.703 72.8 359.837 76C362.103 79.0667 363.237 82.5333 363.237 86.4C363.237 91.6 361.37 95.8 357.637 99C354.037 102.067 349.637 103.6 344.437 103.6C339.237 103.6 335.103 102 332.037 98.8C329.103 95.4667 327.637 91.2667 327.637 86.2C327.637 82.2 328.637 78.7333 330.637 75.8C332.637 72.8667 335.77 70.2 340.037 67.8C347.503 63.5333 358.17 61.4 372.037 61.4C379.37 61.4 385.703 62.1333 391.037 63.6C396.37 64.9333 400.903 67.5333 404.637 71.4C407.303 74.2 409.037 77.7333 409.837 82C410.77 86.1333 411.237 91.9333 411.237 99.4V153C411.237 156.333 411.437 158.6 411.837 159.8C412.37 161 413.237 161.6 414.437 161.6C415.37 161.6 416.37 161.333 417.437 160.8C418.503 160.133 419.503 159.4 420.437 158.6L422.437 162C416.703 166.933 408.503 169.4 397.837 169.4C389.837 169.4 384.237 168.067 381.037 165.4C377.837 162.6 376.103 158.867 375.837 154.2C369.57 164.333 360.237 169.4 347.837 169.4ZM367.837 153.4C370.637 153.4 373.103 152.267 375.237 150V107.8C374.037 109.8 371.837 112.4 368.637 115.6C365.037 119.067 362.303 122.467 360.437 125.8C358.57 129 357.637 133.4 357.637 139C357.637 148.6 361.037 153.4 367.837 153.4ZM393.637 3.99998C396.437 6.13332 397.837 9.13332 397.837 13C397.837 16.4667 396.703 19.5333 394.437 22.2C393.237 23.6667 391.703 25.1333 389.837 26.6C388.103 27.9333 386.503 29.0666 385.037 30C383.57 30.9333 382.437 31.6667 381.637 32.2C377.37 34.8667 373.57 37.3333 370.237 39.6C367.037 41.8667 363.37 44.7333 359.237 48.2L357.037 46.4C359.437 41.6 361.237 37.4667 362.437 34C363.77 30.5333 365.303 26.1333 367.037 20.8C368.237 16.8 369.303 13.7333 370.237 11.6C371.17 9.46665 372.437 7.46665 374.037 5.59998C375.237 4.13332 376.77 2.99999 378.637 2.19998C380.637 1.26665 382.703 0.799988 384.837 0.799988C388.17 0.799988 391.103 1.86665 393.637 3.99998Z" stroke="url(#paint3_linear)" />
                        <path id="letter5" ref={this.refCallback} d="M456.087 11.6C463.02 11.6 468.353 13.0666 472.087 16C475.953 18.9333 477.887 23.2 477.887 28.8C477.887 34.4 475.953 38.6666 472.087 41.6C468.353 44.5333 463.02 46 456.087 46C449.02 46 443.62 44.5333 439.887 41.6C436.153 38.6666 434.287 34.4 434.287 28.8C434.287 23.2 436.153 18.9333 439.887 16C443.62 13.0666 449.02 11.6 456.087 11.6ZM475.287 149.4C475.287 154.867 476.087 158.667 477.687 160.8C479.42 162.8 482.353 163.8 486.487 163.8V168C472.087 167.467 462.62 167.2 458.087 167.2C453.553 167.2 443.553 167.467 428.087 168V163.8C432.22 163.8 435.087 162.8 436.687 160.8C438.42 158.667 439.287 154.867 439.287 149.4V86C439.287 79.8667 438.42 75.4 436.687 72.6C435.087 69.8 432.22 68.4 428.087 68.4V64.2C432.353 64.6 436.487 64.8 440.487 64.8C454.353 64.8 465.953 63.8667 475.287 62V149.4Z" stroke="url(#paint4_linear)" />
                        <path id="letter6" ref={this.refCallback} d="M573.102 61.4C583.769 61.4 591.302 64.0666 595.702 69.4C597.702 71.8 599.169 75.0667 600.102 79.2C601.036 83.2 601.502 88.5333 601.502 95.2V149.4C601.502 154.867 602.302 158.667 603.902 160.8C605.636 162.8 608.569 163.8 612.702 163.8V168C598.302 167.467 588.969 167.2 584.702 167.2C580.169 167.2 570.702 167.467 556.302 168V163.8C559.769 163.8 562.169 162.8 563.502 160.8C564.836 158.667 565.502 154.867 565.502 149.4V84.4C565.502 80.1333 564.702 77 563.102 75C561.636 72.8667 559.169 71.8 555.702 71.8C551.836 71.8 548.436 73.2 545.502 76C542.702 78.6667 541.302 82.0667 541.302 86.2V149.4C541.302 154.867 541.969 158.667 543.302 160.8C544.636 162.8 547.036 163.8 550.502 163.8V168C537.169 167.467 528.369 167.2 524.102 167.2C519.569 167.2 509.569 167.467 494.102 168V163.8C498.236 163.8 501.102 162.8 502.702 160.8C504.436 158.667 505.302 154.867 505.302 149.4V86C505.302 79.8667 504.436 75.4 502.702 72.6C501.102 69.8 498.236 68.4 494.102 68.4V64.2C498.369 64.6 502.502 64.8 506.502 64.8C520.369 64.8 531.969 63.8667 541.302 62V76.4C547.302 66.4 557.902 61.4 573.102 61.4Z" stroke="url(#paint5_linear)" />
                        <path id="letter7" ref={this.refCallback} d="M681.502 149C691.236 149 699.302 144.533 705.702 135.6L709.102 136.8C706.169 146.133 701.169 154.133 694.102 160.8C687.169 167.467 678.236 170.8 667.302 170.8C653.302 170.8 642.102 166.467 633.702 157.8C625.302 149.133 621.102 135.267 621.102 116.2C621.102 97.9333 625.769 84.2667 635.102 75.2C644.569 66 657.036 61.4 672.502 61.4C697.702 61.4 710.302 76.3333 710.302 106.2H658.702C658.569 107.8 658.502 110.2 658.502 113.4C658.502 126.2 660.702 135.333 665.102 140.8C669.636 146.267 675.102 149 681.502 149ZM671.102 66C663.636 66 659.236 78.1333 657.902 102.4H681.102C681.236 91.7333 680.436 83 678.702 76.2C677.102 69.4 674.569 66 671.102 66Z" stroke="url(#paint6_linear)" />
                        <path id="letter8" ref={this.refCallback} d="M790.735 61.4C797.269 61.4 801.935 63.4 804.735 67.4C807.669 71.4 809.135 76.1333 809.135 81.6C809.135 87.6 807.402 92.4 803.935 96C800.602 99.4667 796.202 101.2 790.735 101.2C785.002 101.2 780.602 99.9333 777.535 97.4C774.469 94.7333 772.935 91.2 772.935 86.8C772.935 78.9333 776.335 72.7333 783.135 68.2C780.735 68.2 778.602 68.6667 776.735 69.6C773.402 71.0667 770.602 73.4667 768.335 76.8C766.069 80 764.935 83.5333 764.935 87.4V147.4C764.935 153.667 766.202 158 768.735 160.4C771.402 162.667 775.868 163.8 782.135 163.8V168C780.402 168 778.935 167.933 777.735 167.8C763.735 167.4 754.402 167.2 749.735 167.2C745.602 167.2 736.335 167.4 721.935 167.8C720.869 167.933 719.469 168 717.735 168V163.8C721.869 163.8 724.735 162.8 726.335 160.8C728.069 158.667 728.935 154.867 728.935 149.4V86C728.935 79.8667 728.069 75.4 726.335 72.6C724.735 69.8 721.869 68.4 717.735 68.4V64.2C722.002 64.6 726.135 64.8 730.135 64.8C744.002 64.8 755.602 63.8667 764.935 62V76.4C770.002 66.4 778.602 61.4 790.735 61.4Z" stroke="url(#paint7_linear)" />
                        <defs>
                            <linearGradient id="paint0_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint1_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint2_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint3_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint4_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint5_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint6_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                            <linearGradient id="paint7_linear" x1="404.955" y1="0.799988" x2="404.955" y2="170.8" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#C9CBFF" />
                                <stop offset="1" stopColor="#C2C5FF" stopOpacity="0" />
                            </linearGradient>
                        </defs>
                    </svg>
                </div>

        </div>
        );
    }
}

export default AnimatedText;